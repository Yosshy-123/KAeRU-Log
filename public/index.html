<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>KAeRU Log</title>
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
<link rel="stylesheet" href="/css/style.css">
</head>
<body>

<div class="chat-app">
  <header class="chat-header">
    <div class="app-brand">
      <img class="logo" src="/images/logo.png" alt="ロゴ" />
      <div class="app-title">KAeRU Log</div>
    </div>

    <div class="connection-status">
      <div id="connectionIndicator" class="status-indicator"></div>
      <div id="connectionText">接続中...</div>
      <div id="onlineUserCount"></div>
    </div>

    <div class="header-actions">
      <button id="openProfileButton" class="btn">プロフィール</button>
      <button id="openAdminButton" class="btn danger">管理</button>
    </div>
  </header>

  <div id="toastNotification" class="toast-notification" role="status" aria-live="polite"></div>

  <main>
    <div id="messageList" class="message-list" aria-live="polite"></div>
  </main>

  <div class="room-selector">
    <input type="text" id="roomIdInput" placeholder="ルームIDを入力" maxlength="32">
    <button id="joinRoomButton" class="btn accent">入室</button>
  </div>

  <footer class="message-composer">
    <div class="composer-row">
      <div class="message-input-wrapper">
        <div class="user-info-box">
          <div class="user-name-tag"><span>あなた</span><strong id="currentUsernameLabel"></strong></div>
        </div>
        <textarea id="messageTextarea" placeholder="メッセージを入力" maxlength="800"></textarea>
      </div>
      <div class="send-area">
        <button id="sendMessageButton" class="btn accent">送信</button>
      </div>
    </div>
  </footer>
</div>

<div id="profileModal" class="modal-overlay">
  <div class="modal-dialog">
    <h3>プロフィール</h3>
    <div class="form-field">
      <label for="profileNameInput">ユーザー名（1〜24文字）</label>
      <input id="profileNameInput" type="text" maxlength="24" placeholder="例: たろう">
    </div>
    <div class="modal-actions">
      <button id="closeProfileButton" class="btn">閉じる</button>
      <button id="saveProfileButton" class="btn accent">保存</button>
    </div>
  </div>
</div>

<div id="adminModal" class="modal-overlay">
  <div class="modal-dialog">
    <h3>管理パネル</h3>
    <div class="form-field">
      <label for="adminPasswordInput">パスワード</label>
      <input id="adminPasswordInput" type="password" placeholder="パスワードを入力">
    </div>
    <div class="modal-actions">
      <button id="closeAdminButton" class="btn">閉じる</button>
      <button id="clearMessagesButton" class="btn danger">全メッセージ削除</button>
    </div>
  </div>
</div>

<script src="/js/socket.io.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>
